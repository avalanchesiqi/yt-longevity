#!/usr/bin/env python

import os
from collections import defaultdict
import json
from datetime import date
import matplotlib.pyplot as plt
from sklearn.neighbors.kde import KernelDensity
import numpy as np
# import seaborn as sns

PARENTDIR = '../../data/sampled_may_data/'


def load_metadata(data_dir=None):
    vid_upload = dict()
    for subdir, _, files in os.walk(data_dir):
        for f in files:
            if f.endswith('json'):
                filepath = os.path.join(subdir, f)
                with open(filepath, 'r') as datafile:
                    for line in datafile:
                        metadata = json.loads(line.rstrip())
                        try:
                            vid_upload[metadata['id']] = metadata['snippet']['publishedAt'][:10]
                        except Exception as exc:
                            print str(exc)
                            continue
                print "finish {0}".format(f.title())
    return vid_upload


def load_tweetcount(data_dir, upload_dict):
    visited = set()
    age_dist = defaultdict(int)
    for subdir, _, files in os.walk(data_dir):
        for f in files:
            filepath = os.path.join(subdir, f)
            filename, filetype = os.path.basename(os.path.normpath(filepath)).split(".")
            if filetype == 'txt':
                with open(filepath, 'r') as datafile:
                    for line in datafile:
                        vid, cnt = line.rstrip().split(": ")
                        if vid in visited:
                            continue
                        visited.add(vid)
                        try:
                            upload_date = upload_dict[vid]
                        except:
                            continue
                        tweet_date = filename
                        age = (date(*map(int, tweet_date.split('-'))) - date(*map(int, upload_date.split('-')))).days
                        age_dist[age] += 1
                print "finish {0}".format(filename)
    return age_dist


if __name__ == '__main__':
    # vid_upload_dict = load_metadata(PARENTDIR+'metadata/')
    # age_dist_dict = load_tweetcount(PARENTDIR+'video_stats/', vid_upload_dict)
    age_dist_dict = {0: 596506, 1: 794909, 2: 89848, 3: 46044, 4: 31938, 5: 24531, 6: 20561, 7: 17342, 8: 14461, 9: 12663, 10: 11674, 11: 10555, 12: 9893, 13: 9462, 14: 8881, 15: 8450, 16: 7856, 17: 7551, 18: 6969, 19: 6958, 20: 6907, 21: 6778, 22: 6580, 23: 6305, 24: 6080, 25: 6047, 26: 5645, 27: 5608, 28: 5662, 29: 5605, 30: 5370, 31: 5239, 32: 5082, 33: 4888, 34: 4861, 35: 4911, 36: 4772, 37: 4548, 38: 4328, 39: 4514, 40: 4189, 41: 4072, 42: 4211, 43: 3910, 44: 3895, 45: 3850, 46: 3695, 47: 3610, 48: 3703, 49: 3587, 50: 3724, 51: 3544, 52: 3444, 53: 3386, 54: 3348, 55: 3387, 56: 3328, 57: 3375, 58: 3256, 59: 3143, 60: 3137, 61: 3037, 62: 2971, 63: 2973, 64: 3057, 65: 2878, 66: 2850, 67: 2917, 68: 2775, 69: 2707, 70: 2787, 71: 2713, 72: 2774, 73: 2739, 74: 2720, 75: 2653, 76: 2626, 77: 2688, 78: 2562, 79: 2621, 80: 2527, 81: 2518, 82: 2450, 83: 2516, 84: 2595, 85: 2535, 86: 2505, 87: 2464, 88: 2373, 89: 2360, 90: 2408, 91: 2396, 92: 2410, 93: 2347, 94: 2291, 95: 2334, 96: 2249, 97: 2218, 98: 2268, 99: 2284, 100: 2241, 101: 2269, 102: 2204, 103: 2126, 104: 2252, 105: 2288, 106: 2138, 107: 2085, 108: 2090, 109: 2103, 110: 2064, 111: 2016, 112: 2040, 113: 2046, 114: 2026, 115: 1966, 116: 1983, 117: 1975, 118: 1942, 119: 1899, 120: 1914, 121: 1855, 122: 1788, 123: 1824, 124: 1749, 125: 1816, 126: 1783, 127: 1717, 128: 1724, 129: 1735, 130: 1748, 131: 1692, 132: 1672, 133: 1702, 134: 1680, 135: 1685, 136: 1659, 137: 1690, 138: 1711, 139: 1666, 140: 1694, 141: 1686, 142: 1629, 143: 1667, 144: 1627, 145: 1615, 146: 1613, 147: 1678, 148: 1617, 149: 1631, 150: 1665, 151: 1563, 152: 1671, 153: 1614, 154: 1628, 155: 1615, 156: 1557, 157: 1569, 158: 1612, 159: 1639, 160: 1621, 161: 1702, 162: 1588, 163: 1585, 164: 1562, 165: 1607, 166: 1475, 167: 1540, 168: 1512, 169: 1598, 170: 1476, 171: 1543, 172: 1491, 173: 1541, 174: 1599, 175: 1652, 176: 1592, 177: 1655, 178: 1520, 179: 1637, 180: 1527, 181: 1556, 182: 1490, 183: 1537, 184: 1525, 185: 1538, 186: 1507, 187: 1549, 188: 1581, 189: 1543, 190: 1566, 191: 1470, 192: 1568, 193: 1561, 194: 1525, 195: 1450, 196: 1529, 197: 1562, 198: 1503, 199: 1459, 200: 1447, 201: 1504, 202: 1446, 203: 1401, 204: 1417, 205: 1448, 206: 1442, 207: 1461, 208: 1363, 209: 1393, 210: 1490, 211: 1426, 212: 1449, 213: 1446, 214: 1384, 215: 1420, 216: 1425, 217: 1439, 218: 1444, 219: 1403, 220: 1342, 221: 1341, 222: 1391, 223: 1334, 224: 1339, 225: 1337, 226: 1364, 227: 1375, 228: 1395, 229: 1391, 230: 1356, 231: 1360, 232: 1350, 233: 1402, 234: 1338, 235: 1288, 236: 1271, 237: 1297, 238: 1314, 239: 1316, 240: 1296, 241: 1291, 242: 1270, 243: 1355, 244: 1330, 245: 1272, 246: 1298, 247: 1216, 248: 1230, 249: 1231, 250: 1267, 251: 1315, 252: 1219, 253: 1231, 254: 1243, 255: 1204, 256: 1259, 257: 1239, 258: 1268, 259: 1278, 260: 1257, 261: 1272, 262: 1162, 263: 1194, 264: 1229, 265: 1264, 266: 1257, 267: 1172, 268: 1263, 269: 1218, 270: 1212, 271: 1294, 272: 1227, 273: 1200, 274: 1221, 275: 1234, 276: 1123, 277: 1200, 278: 1184, 279: 1217, 280: 1163, 281: 1115, 282: 1152, 283: 1213, 284: 1108, 285: 1121, 286: 1180, 287: 1195, 288: 1151, 289: 1203, 290: 1150, 291: 1154, 292: 1149, 293: 1134, 294: 1154, 295: 1108, 296: 1101, 297: 1139, 298: 1230, 299: 1119, 300: 1145, 301: 1136, 302: 1113, 303: 1037, 304: 1124, 305: 1121, 306: 1182, 307: 1163, 308: 1194, 309: 1105, 310: 1105, 311: 1068, 312: 1111, 313: 1163, 314: 1108, 315: 1125, 316: 1111, 317: 1106, 318: 1093, 319: 1104, 320: 1085, 321: 1074, 322: 1065, 323: 1102, 324: 1073, 325: 1119, 326: 1095, 327: 1067, 328: 1108, 329: 1121, 330: 1063, 331: 1018, 332: 1017, 333: 1093, 334: 1122, 335: 1064, 336: 1060, 337: 1000, 338: 1160, 339: 1068, 340: 1084, 341: 1103, 342: 1064, 343: 1120, 344: 975, 345: 1081, 346: 1089, 347: 1040, 348: 1051, 349: 1064, 350: 1112, 351: 1043, 352: 1079, 353: 1108, 354: 1080, 355: 1076, 356: 1126, 357: 1086, 358: 1138, 359: 1145, 360: 1093, 361: 1088, 362: 1130, 363: 1203, 364: 1252, 365: 1411, 366: 1537, 367: 1404, 368: 1179, 369: 1143, 370: 1047, 371: 1087, 372: 1037, 373: 1068, 374: 953, 375: 1049, 376: 1058, 377: 1064, 378: 1042, 379: 1033, 380: 1047, 381: 1030, 382: 1022, 383: 975, 384: 1013, 385: 999, 386: 1023, 387: 966, 388: 1018, 389: 1015, 390: 1026, 391: 946, 392: 966, 393: 971, 394: 932, 395: 978, 396: 949, 397: 979, 398: 1025, 399: 944, 400: 952, 401: 918, 402: 945, 403: 950, 404: 954, 405: 999, 406: 968, 407: 985, 408: 960, 409: 904, 410: 950, 411: 967, 412: 963, 413: 945, 414: 904, 415: 955, 416: 946, 417: 966, 418: 930, 419: 946, 420: 930, 421: 882, 422: 882, 423: 951, 424: 920, 425: 987, 426: 926, 427: 855, 428: 908, 429: 869, 430: 934, 431: 930, 432: 922, 433: 898, 434: 893, 435: 876, 436: 910, 437: 859, 438: 926, 439: 954, 440: 934, 441: 878, 442: 916, 443: 914, 444: 903, 445: 907, 446: 971, 447: 904, 448: 877, 449: 886, 450: 849, 451: 882, 452: 858, 453: 910, 454: 980, 455: 868, 456: 892, 457: 923, 458: 891, 459: 845, 460: 865, 461: 888, 462: 909, 463: 860, 464: 903, 465: 895, 466: 914, 467: 837, 468: 872, 469: 893, 470: 834, 471: 843, 472: 857, 473: 868, 474: 837, 475: 853, 476: 851, 477: 831, 478: 830, 479: 849, 480: 811, 481: 798, 482: 795, 483: 778, 484: 821, 485: 829, 486: 790, 487: 812, 488: 747, 489: 768, 490: 719, 491: 720, 492: 727, 493: 731, 494: 775, 495: 771, 496: 710, 497: 726, 498: 650, 499: 782, 500: 701, 501: 732, 502: 735, 503: 735, 504: 738, 505: 734, 506: 691, 507: 708, 508: 765, 509: 721, 510: 709, 511: 690, 512: 693, 513: 737, 514: 750, 515: 738, 516: 666, 517: 731, 518: 700, 519: 771, 520: 740, 521: 713, 522: 792, 523: 691, 524: 903, 525: 966, 526: 875, 527: 795, 528: 695, 529: 831, 530: 754, 531: 786, 532: 816, 533: 773, 534: 790, 535: 763, 536: 777, 537: 783, 538: 750, 539: 801, 540: 746, 541: 791, 542: 806, 543: 832, 544: 838, 545: 808, 546: 858, 547: 787, 548: 788, 549: 784, 550: 791, 551: 854, 552: 1032, 553: 890, 554: 765, 555: 771, 556: 803, 557: 774, 558: 779, 559: 753, 560: 779, 561: 739, 562: 712, 563: 740, 564: 811, 565: 786, 566: 781, 567: 682, 568: 747, 569: 752, 570: 701, 571: 767, 572: 681, 573: 740, 574: 714, 575: 691, 576: 685, 577: 699, 578: 734, 579: 702, 580: 724, 581: 722, 582: 702, 583: 755, 584: 715, 585: 698, 586: 732, 587: 786, 588: 748, 589: 695, 590: 715, 591: 686, 592: 721, 593: 724, 594: 725, 595: 704, 596: 681, 597: 701, 598: 688, 599: 673, 600: 735, 601: 695, 602: 678, 603: 693, 604: 653, 605: 651, 606: 758, 607: 689, 608: 699, 609: 693, 610: 648, 611: 694, 612: 669, 613: 652, 614: 692, 615: 686, 616: 765, 617: 656, 618: 711, 619: 677, 620: 682, 621: 644, 622: 680, 623: 637, 624: 681, 625: 665, 626: 655, 627: 708, 628: 718, 629: 666, 630: 684, 631: 642, 632: 628, 633: 617, 634: 609, 635: 610, 636: 655, 637: 659, 638: 662, 639: 678, 640: 698, 641: 664, 642: 614, 643: 628, 644: 606, 645: 659, 646: 631, 647: 607, 648: 575, 649: 623, 650: 655, 651: 643, 652: 653, 653: 592, 654: 663, 655: 620, 656: 649, 657: 637, 658: 616, 659: 631, 660: 625, 661: 667, 662: 655, 663: 622, 664: 645, 665: 628, 666: 622, 667: 660, 668: 642, 669: 673, 670: 656, 671: 624, 672: 682, 673: 636, 674: 669, 675: 590, 676: 604, 677: 645, 678: 628, 679: 617, 680: 586, 681: 616, 682: 648, 683: 604, 684: 627, 685: 621, 686: 583, 687: 604, 688: 660, 689: 684, 690: 607, 691: 600, 692: 628, 693: 641, 694: 614, 695: 653, 696: 649, 697: 635, 698: 641, 699: 624, 700: 604, 701: 658, 702: 669, 703: 607, 704: 628, 705: 652, 706: 659, 707: 608, 708: 628, 709: 639, 710: 659, 711: 636, 712: 599, 713: 668, 714: 637, 715: 647, 716: 635, 717: 624, 718: 603, 719: 640, 720: 608, 721: 626, 722: 644, 723: 603, 724: 622, 725: 625, 726: 691, 727: 705, 728: 671, 729: 707, 730: 788, 731: 951, 732: 825, 733: 723, 734: 695, 735: 721, 736: 659, 737: 605, 738: 618, 739: 582, 740: 580, 741: 575, 742: 589, 743: 617, 744: 619, 745: 595, 746: 584, 747: 582, 748: 639, 749: 570, 750: 631, 751: 568, 752: 612, 753: 604, 754: 548, 755: 577, 756: 577, 757: 611, 758: 634, 759: 567, 760: 585, 761: 596, 762: 555, 763: 578, 764: 595, 765: 584, 766: 578, 767: 573, 768: 580, 769: 606, 770: 612, 771: 534, 772: 544, 773: 577, 774: 615, 775: 561, 776: 552, 777: 600, 778: 571, 779: 593, 780: 548, 781: 614, 782: 576, 783: 591, 784: 587, 785: 595, 786: 528, 787: 552, 788: 572, 789: 622, 790: 588, 791: 628, 792: 576, 793: 606, 794: 619, 795: 574, 796: 639, 797: 619, 798: 608, 799: 618, 800: 611, 801: 580, 802: 585, 803: 624, 804: 616, 805: 561, 806: 583, 807: 549, 808: 616, 809: 600, 810: 576, 811: 584, 812: 638, 813: 550, 814: 591, 815: 558, 816: 567, 817: 592, 818: 567, 819: 544, 820: 585, 821: 588, 822: 594, 823: 577, 824: 623, 825: 549, 826: 522, 827: 597, 828: 548, 829: 569, 830: 595, 831: 563, 832: 554, 833: 531, 834: 569, 835: 537, 836: 593, 837: 531, 838: 562, 839: 594, 840: 550, 841: 535, 842: 540, 843: 519, 844: 576, 845: 591, 846: 537, 847: 585, 848: 539, 849: 498, 850: 565, 851: 557, 852: 519, 853: 524, 854: 486, 855: 531, 856: 532, 857: 523, 858: 548, 859: 509, 860: 539, 861: 507, 862: 508, 863: 450, 864: 472, 865: 525, 866: 489, 867: 487, 868: 498, 869: 496, 870: 512, 871: 466, 872: 496, 873: 482, 874: 464, 875: 530, 876: 513, 877: 491, 878: 519, 879: 494, 880: 512, 881: 533, 882: 508, 883: 491, 884: 491, 885: 472, 886: 498, 887: 464, 888: 542, 889: 532, 890: 525, 891: 507, 892: 544, 893: 551, 894: 521, 895: 500, 896: 481, 897: 503, 898: 513, 899: 535, 900: 503, 901: 519, 902: 545, 903: 522, 904: 534, 905: 501, 906: 510, 907: 571, 908: 546, 909: 514, 910: 528, 911: 548, 912: 549, 913: 548, 914: 497, 915: 536, 916: 546, 917: 534, 918: 558, 919: 532, 920: 540, 921: 533, 922: 512, 923: 532, 924: 514, 925: 538, 926: 502, 927: 468, 928: 496, 929: 563, 930: 540, 931: 527, 932: 488, 933: 510, 934: 524, 935: 476, 936: 509, 937: 549, 938: 508, 939: 505, 940: 481, 941: 547, 942: 559, 943: 490, 944: 502, 945: 511, 946: 473, 947: 524, 948: 550, 949: 524, 950: 494, 951: 527, 952: 497, 953: 566, 954: 521, 955: 504, 956: 551, 957: 521, 958: 536, 959: 491, 960: 498, 961: 498, 962: 517, 963: 519, 964: 532, 965: 535, 966: 542, 967: 495, 968: 569, 969: 494, 970: 510, 971: 515, 972: 508, 973: 472, 974: 524, 975: 534, 976: 501, 977: 498, 978: 526, 979: 519, 980: 532, 981: 523, 982: 550, 983: 481, 984: 505, 985: 520, 986: 518, 987: 525, 988: 528, 989: 482, 990: 478, 991: 468, 992: 490, 993: 559, 994: 492, 995: 556, 996: 506, 997: 483, 998: 571, 999: 518, 1000: 486, 1001: 509, 1002: 531, 1003: 529, 1004: 527, 1005: 477, 1006: 502, 1007: 528, 1008: 527, 1009: 507, 1010: 512, 1011: 516, 1012: 531, 1013: 533, 1014: 549, 1015: 501, 1016: 560, 1017: 529, 1018: 526, 1019: 522, 1020: 524, 1021: 480, 1022: 504, 1023: 470, 1024: 480, 1025: 469, 1026: 474, 1027: 495, 1028: 491, 1029: 476, 1030: 517, 1031: 491, 1032: 475, 1033: 512, 1034: 515, 1035: 467, 1036: 499, 1037: 486, 1038: 491, 1039: 437, 1040: 471, 1041: 481, 1042: 488, 1043: 522, 1044: 496, 1045: 499, 1046: 467, 1047: 533, 1048: 484, 1049: 508, 1050: 506, 1051: 502, 1052: 499, 1053: 521, 1054: 509, 1055: 518, 1056: 486, 1057: 500, 1058: 486, 1059: 488, 1060: 551, 1061: 472, 1062: 464, 1063: 469, 1064: 522, 1065: 528, 1066: 461, 1067: 471, 1068: 478, 1069: 511, 1070: 515, 1071: 507, 1072: 486, 1073: 465, 1074: 508, 1075: 464, 1076: 526, 1077: 488, 1078: 496, 1079: 490, 1080: 522, 1081: 517, 1082: 516, 1083: 532, 1084: 495, 1085: 496, 1086: 524, 1087: 525, 1088: 492, 1089: 527, 1090: 548, 1091: 553, 1092: 548, 1093: 609, 1094: 524, 1095: 611, 1096: 727, 1097: 685, 1098: 600, 1099: 544, 1100: 536, 1101: 524, 1102: 505, 1103: 524, 1104: 495, 1105: 557, 1106: 497, 1107: 506, 1108: 537, 1109: 514, 1110: 505, 1111: 481, 1112: 487, 1113: 479, 1114: 520, 1115: 487, 1116: 474, 1117: 540, 1118: 497, 1119: 477, 1120: 494, 1121: 468, 1122: 461, 1123: 498, 1124: 477, 1125: 515, 1126: 486, 1127: 488, 1128: 510, 1129: 483, 1130: 452, 1131: 478, 1132: 515, 1133: 451, 1134: 492, 1135: 467, 1136: 469, 1137: 466, 1138: 468, 1139: 448, 1140: 474, 1141: 482, 1142: 478, 1143: 436, 1144: 458, 1145: 525, 1146: 445, 1147: 491, 1148: 500, 1149: 493, 1150: 464, 1151: 471, 1152: 479, 1153: 484, 1154: 495, 1155: 495, 1156: 462, 1157: 515, 1158: 492, 1159: 479, 1160: 504, 1161: 497, 1162: 530, 1163: 540, 1164: 458, 1165: 484, 1166: 500, 1167: 501, 1168: 507, 1169: 499, 1170: 498, 1171: 532, 1172: 511, 1173: 490, 1174: 512, 1175: 458, 1176: 461, 1177: 519, 1178: 488, 1179: 485, 1180: 460, 1181: 490, 1182: 519, 1183: 462, 1184: 464, 1185: 467, 1186: 512, 1187: 478, 1188: 472, 1189: 503, 1190: 464, 1191: 436, 1192: 439, 1193: 488, 1194: 471, 1195: 437, 1196: 477, 1197: 468, 1198: 455, 1199: 439, 1200: 457, 1201: 436, 1202: 448, 1203: 432, 1204: 482, 1205: 412, 1206: 453, 1207: 469, 1208: 452, 1209: 415, 1210: 447, 1211: 452, 1212: 459, 1213: 469, 1214: 421, 1215: 415, 1216: 396, 1217: 374, 1218: 386, 1219: 427, 1220: 437, 1221: 411, 1222: 392, 1223: 403, 1224: 369, 1225: 444, 1226: 410, 1227: 412, 1228: 411, 1229: 365, 1230: 383, 1231: 406, 1232: 379, 1233: 383, 1234: 402, 1235: 382, 1236: 411, 1237: 400, 1238: 394, 1239: 389, 1240: 386, 1241: 404, 1242: 370, 1243: 408, 1244: 386, 1245: 394, 1246: 406, 1247: 399, 1248: 400, 1249: 428, 1250: 396, 1251: 397, 1252: 415, 1253: 383, 1254: 395, 1255: 413, 1256: 406, 1257: 400, 1258: 429, 1259: 435, 1260: 395, 1261: 414, 1262: 426, 1263: 402, 1264: 399, 1265: 414, 1266: 431, 1267: 422, 1268: 400, 1269: 424, 1270: 418, 1271: 401, 1272: 387, 1273: 437, 1274: 435, 1275: 396, 1276: 388, 1277: 430, 1278: 423, 1279: 409, 1280: 403, 1281: 430, 1282: 427, 1283: 403, 1284: 372, 1285: 454, 1286: 403, 1287: 438, 1288: 433, 1289: 386, 1290: 398, 1291: 405, 1292: 419, 1293: 403, 1294: 359, 1295: 427, 1296: 376, 1297: 387, 1298: 405, 1299: 380, 1300: 402, 1301: 391, 1302: 423, 1303: 414, 1304: 379, 1305: 403, 1306: 431, 1307: 407, 1308: 414, 1309: 417, 1310: 423, 1311: 407, 1312: 393, 1313: 422, 1314: 391, 1315: 388, 1316: 413, 1317: 389, 1318: 394, 1319: 390, 1320: 387, 1321: 387, 1322: 410, 1323: 437, 1324: 398, 1325: 386, 1326: 389, 1327: 376, 1328: 417, 1329: 388, 1330: 397, 1331: 390, 1332: 384, 1333: 371, 1334: 360, 1335: 392, 1336: 387, 1337: 401, 1338: 396, 1339: 350, 1340: 386, 1341: 392, 1342: 372, 1343: 391, 1344: 369, 1345: 338, 1346: 373, 1347: 349, 1348: 343, 1349: 377, 1350: 357, 1351: 357, 1352: 376, 1353: 356, 1354: 386, 1355: 384, 1356: 366, 1357: 370, 1358: 401, 1359: 353, 1360: 358, 1361: 372, 1362: 366, 1363: 370, 1364: 374, 1365: 376, 1366: 358, 1367: 393, 1368: 350, 1369: 367, 1370: 351, 1371: 386, 1372: 381, 1373: 384, 1374: 385, 1375: 371, 1376: 354, 1377: 351, 1378: 377, 1379: 359, 1380: 392, 1381: 344, 1382: 353, 1383: 383, 1384: 404, 1385: 361, 1386: 366, 1387: 387, 1388: 370, 1389: 395, 1390: 373, 1391: 349, 1392: 374, 1393: 353, 1394: 397, 1395: 384, 1396: 361, 1397: 376, 1398: 380, 1399: 379, 1400: 399, 1401: 362, 1402: 343, 1403: 364, 1404: 391, 1405: 408, 1406: 405, 1407: 389, 1408: 339, 1409: 361, 1410: 377, 1411: 390, 1412: 420, 1413: 416, 1414: 365, 1415: 386, 1416: 361, 1417: 382, 1418: 351, 1419: 396, 1420: 356, 1421: 350, 1422: 363, 1423: 373, 1424: 393, 1425: 347, 1426: 417, 1427: 388, 1428: 361, 1429: 412, 1430: 363, 1431: 391, 1432: 354, 1433: 363, 1434: 348, 1435: 407, 1436: 410, 1437: 384, 1438: 357, 1439: 340, 1440: 386, 1441: 367, 1442: 394, 1443: 363, 1444: 407, 1445: 368, 1446: 453, 1447: 410, 1448: 377, 1449: 429, 1450: 402, 1451: 403, 1452: 384, 1453: 401, 1454: 399, 1455: 429, 1456: 436, 1457: 403, 1458: 415, 1459: 414, 1460: 469, 1461: 597, 1462: 536, 1463: 410, 1464: 436, 1465: 405, 1466: 383, 1467: 390, 1468: 406, 1469: 387, 1470: 411, 1471: 375, 1472: 370, 1473: 372, 1474: 352, 1475: 383, 1476: 391, 1477: 375, 1478: 406, 1479: 355, 1480: 344, 1481: 381, 1482: 350, 1483: 376, 1484: 350, 1485: 372, 1486: 362, 1487: 386, 1488: 391, 1489: 345, 1490: 386, 1491: 389, 1492: 408, 1493: 363, 1494: 344, 1495: 350, 1496: 358, 1497: 364, 1498: 389, 1499: 385, 1500: 379, 1501: 370, 1502: 363, 1503: 397, 1504: 346, 1505: 402, 1506: 376, 1507: 353, 1508: 362, 1509: 376, 1510: 360, 1511: 389, 1512: 397, 1513: 370, 1514: 368, 1515: 390, 1516: 382, 1517: 337, 1518: 341, 1519: 355, 1520: 381, 1521: 340, 1522: 381, 1523: 404, 1524: 354, 1525: 327, 1526: 356, 1527: 352, 1528: 370, 1529: 337, 1530: 391, 1531: 392, 1532: 355, 1533: 369, 1534: 377, 1535: 362, 1536: 359, 1537: 339, 1538: 383, 1539: 412, 1540: 349, 1541: 351, 1542: 355, 1543: 396, 1544: 366, 1545: 362, 1546: 353, 1547: 374, 1548: 405, 1549: 352, 1550: 364, 1551: 360, 1552: 410, 1553: 386, 1554: 401, 1555: 351, 1556: 342, 1557: 363, 1558: 360, 1559: 381, 1560: 333, 1561: 348, 1562: 335, 1563: 367, 1564: 373, 1565: 366, 1566: 362, 1567: 333, 1568: 356, 1569: 332, 1570: 340, 1571: 354, 1572: 315, 1573: 344, 1574: 380, 1575: 383, 1576: 317, 1577: 356, 1578: 376, 1579: 336, 1580: 330, 1581: 376, 1582: 371, 1583: 312, 1584: 336, 1585: 367, 1586: 354, 1587: 280, 1588: 351, 1589: 305, 1590: 323, 1591: 325, 1592: 298, 1593: 335, 1594: 339, 1595: 318, 1596: 296, 1597: 295, 1598: 355, 1599: 303, 1600: 359, 1601: 297, 1602: 327, 1603: 308, 1604: 309, 1605: 330, 1606: 322, 1607: 306, 1608: 274, 1609: 313, 1610: 317, 1611: 328, 1612: 298, 1613: 324, 1614: 323, 1615: 342, 1616: 312, 1617: 354, 1618: 322, 1619: 321, 1620: 331, 1621: 358, 1622: 352, 1623: 356, 1624: 336, 1625: 347, 1626: 322, 1627: 324, 1628: 360, 1629: 327, 1630: 335, 1631: 323, 1632: 350, 1633: 332, 1634: 368, 1635: 308, 1636: 341, 1637: 347, 1638: 363, 1639: 335, 1640: 334, 1641: 327, 1642: 302, 1643: 359, 1644: 338, 1645: 331, 1646: 342, 1647: 330, 1648: 318, 1649: 318, 1650: 328, 1651: 323, 1652: 330, 1653: 324, 1654: 341, 1655: 334, 1656: 346, 1657: 333, 1658: 339, 1659: 358, 1660: 287, 1661: 318, 1662: 315, 1663: 338, 1664: 308, 1665: 321, 1666: 332, 1667: 329, 1668: 342, 1669: 350, 1670: 309, 1671: 360, 1672: 357, 1673: 321, 1674: 330, 1675: 317, 1676: 314, 1677: 301, 1678: 335, 1679: 311, 1680: 316, 1681: 345, 1682: 361, 1683: 318, 1684: 349, 1685: 345, 1686: 303, 1687: 305, 1688: 319, 1689: 311, 1690: 302, 1691: 311, 1692: 316, 1693: 361, 1694: 313, 1695: 341, 1696: 305, 1697: 313, 1698: 314, 1699: 346, 1700: 306, 1701: 325, 1702: 287, 1703: 318, 1704: 324, 1705: 302, 1706: 310, 1707: 329, 1708: 302, 1709: 313, 1710: 297, 1711: 296, 1712: 285, 1713: 319, 1714: 317, 1715: 292, 1716: 315, 1717: 315, 1718: 302, 1719: 317, 1720: 283, 1721: 349, 1722: 346, 1723: 306, 1724: 315, 1725: 351, 1726: 285, 1727: 326, 1728: 294, 1729: 275, 1730: 293, 1731: 279, 1732: 309, 1733: 334, 1734: 274, 1735: 290, 1736: 310, 1737: 311, 1738: 329, 1739: 274, 1740: 291, 1741: 295, 1742: 335, 1743: 295, 1744: 265, 1745: 287, 1746: 322, 1747: 287, 1748: 306, 1749: 322, 1750: 305, 1751: 322, 1752: 303, 1753: 306, 1754: 293, 1755: 317, 1756: 308, 1757: 284, 1758: 306, 1759: 283, 1760: 287, 1761: 294, 1762: 305, 1763: 284, 1764: 285, 1765: 302, 1766: 312, 1767: 339, 1768: 289, 1769: 338, 1770: 294, 1771: 299, 1772: 326, 1773: 314, 1774: 302, 1775: 335, 1776: 317, 1777: 325, 1778: 292, 1779: 306, 1780: 327, 1781: 303, 1782: 315, 1783: 316, 1784: 322, 1785: 310, 1786: 290, 1787: 328, 1788: 295, 1789: 310, 1790: 312, 1791: 312, 1792: 285, 1793: 287, 1794: 292, 1795: 289, 1796: 316, 1797: 287, 1798: 309, 1799: 307, 1800: 286, 1801: 295, 1802: 329, 1803: 299, 1804: 335, 1805: 317, 1806: 313, 1807: 320, 1808: 289, 1809: 307, 1810: 347, 1811: 296, 1812: 294, 1813: 295, 1814: 319, 1815: 342, 1816: 304, 1817: 318, 1818: 301, 1819: 314, 1820: 328, 1821: 309, 1822: 308, 1823: 322, 1824: 350, 1825: 350, 1826: 334, 1827: 460, 1828: 401, 1829: 332, 1830: 327, 1831: 289, 1832: 284, 1833: 308, 1834: 312, 1835: 298, 1836: 307, 1837: 286, 1838: 275, 1839: 293, 1840: 300, 1841: 290, 1842: 310, 1843: 294, 1844: 257, 1845: 314, 1846: 290, 1847: 290, 1848: 307, 1849: 317, 1850: 285, 1851: 292, 1852: 301, 1853: 277, 1854: 323, 1855: 310, 1856: 291, 1857: 270, 1858: 305, 1859: 264, 1860: 302, 1861: 311, 1862: 308, 1863: 295, 1864: 271, 1865: 290, 1866: 291, 1867: 324, 1868: 286, 1869: 319, 1870: 271, 1871: 314, 1872: 285, 1873: 282, 1874: 291, 1875: 291, 1876: 306, 1877: 289, 1878: 319, 1879: 297, 1880: 282, 1881: 287, 1882: 309, 1883: 320, 1884: 296, 1885: 265, 1886: 259, 1887: 302, 1888: 294, 1889: 285, 1890: 265, 1891: 290, 1892: 286, 1893: 290, 1894: 305, 1895: 304, 1896: 291, 1897: 268, 1898: 284, 1899: 256, 1900: 301, 1901: 281, 1902: 260, 1903: 292, 1904: 275, 1905: 263, 1906: 267, 1907: 262, 1908: 260, 1909: 263, 1910: 278, 1911: 272, 1912: 265, 1913: 260, 1914: 297, 1915: 316, 1916: 301, 1917: 285, 1918: 279, 1919: 297, 1920: 274, 1921: 281, 1922: 262, 1923: 276, 1924: 269, 1925: 292, 1926: 279, 1927: 273, 1928: 288, 1929: 281, 1930: 233, 1931: 270, 1932: 286, 1933: 281, 1934: 222, 1935: 250, 1936: 246, 1937: 264, 1938: 260, 1939: 285, 1940: 281, 1941: 256, 1942: 276, 1943: 249, 1944: 288, 1945: 273, 1946: 255, 1947: 218, 1948: 263, 1949: 244, 1950: 272, 1951: 233, 1952: 260, 1953: 261, 1954: 207, 1955: 220, 1956: 229, 1957: 231, 1958: 243, 1959: 277, 1960: 243, 1961: 273, 1962: 243, 1963: 237, 1964: 238, 1965: 231, 1966: 242, 1967: 231, 1968: 209, 1969: 277, 1970: 234, 1971: 214, 1972: 224, 1973: 232, 1974: 212, 1975: 218, 1976: 247, 1977: 238, 1978: 227, 1979: 270, 1980: 238, 1981: 246, 1982: 230, 1983: 209, 1984: 232, 1985: 208, 1986: 228, 1987: 237, 1988: 230, 1989: 223, 1990: 240, 1991: 234, 1992: 244, 1993: 258, 1994: 248, 1995: 221, 1996: 257, 1997: 231, 1998: 244, 1999: 245, 2000: 238, 2001: 250, 2002: 273, 2003: 238, 2004: 227, 2005: 216, 2006: 234, 2007: 247, 2008: 241, 2009: 228, 2010: 234, 2011: 232, 2012: 197, 2013: 249, 2014: 235, 2015: 246, 2016: 223, 2017: 245, 2018: 235, 2019: 229, 2020: 226, 2021: 238, 2022: 245, 2023: 235, 2024: 216, 2025: 252, 2026: 227, 2027: 221, 2028: 234, 2029: 246, 2030: 205, 2031: 222, 2032: 230, 2033: 246, 2034: 240, 2035: 246, 2036: 248, 2037: 248, 2038: 228, 2039: 252, 2040: 243, 2041: 223, 2042: 239, 2043: 221, 2044: 216, 2045: 205, 2046: 227, 2047: 257, 2048: 221, 2049: 217, 2050: 229, 2051: 245, 2052: 227, 2053: 238, 2054: 238, 2055: 228, 2056: 223, 2057: 215, 2058: 233, 2059: 230, 2060: 231, 2061: 220, 2062: 215, 2063: 247, 2064: 220, 2065: 244, 2066: 240, 2067: 239, 2068: 243, 2069: 249, 2070: 221, 2071: 223, 2072: 246, 2073: 223, 2074: 196, 2075: 236, 2076: 218, 2077: 220, 2078: 226, 2079: 247, 2080: 225, 2081: 217, 2082: 223, 2083: 240, 2084: 206, 2085: 225, 2086: 194, 2087: 236, 2088: 197, 2089: 261, 2090: 210, 2091: 218, 2092: 226, 2093: 202, 2094: 191, 2095: 193, 2096: 234, 2097: 221, 2098: 207, 2099: 217, 2100: 205, 2101: 199, 2102: 219, 2103: 225, 2104: 218, 2105: 188, 2106: 205, 2107: 181, 2108: 244, 2109: 212, 2110: 204, 2111: 204, 2112: 171, 2113: 199, 2114: 197, 2115: 190, 2116: 208, 2117: 211, 2118: 197, 2119: 190, 2120: 202, 2121: 217, 2122: 204, 2123: 206, 2124: 249, 2125: 203, 2126: 197, 2127: 225, 2128: 217, 2129: 215, 2130: 234, 2131: 222, 2132: 210, 2133: 215, 2134: 234, 2135: 192, 2136: 212, 2137: 180, 2138: 221, 2139: 221, 2140: 196, 2141: 195, 2142: 193, 2143: 183, 2144: 205, 2145: 202, 2146: 198, 2147: 207, 2148: 194, 2149: 203, 2150: 195, 2151: 195, 2152: 230, 2153: 197, 2154: 206, 2155: 209, 2156: 214, 2157: 194, 2158: 194, 2159: 206, 2160: 193, 2161: 206, 2162: 197, 2163: 196, 2164: 212, 2165: 195, 2166: 201, 2167: 213, 2168: 205, 2169: 215, 2170: 207, 2171: 190, 2172: 197, 2173: 177, 2174: 217, 2175: 201, 2176: 201, 2177: 213, 2178: 203, 2179: 200, 2180: 187, 2181: 210, 2182: 222, 2183: 210, 2184: 211, 2185: 188, 2186: 215, 2187: 203, 2188: 217, 2189: 198, 2190: 200, 2191: 239, 2192: 251, 2193: 266, 2194: 219, 2195: 225, 2196: 221, 2197: 209, 2198: 180, 2199: 190, 2200: 221, 2201: 191, 2202: 227, 2203: 234, 2204: 202, 2205: 196, 2206: 194, 2207: 200, 2208: 187, 2209: 194, 2210: 187, 2211: 217, 2212: 188, 2213: 198, 2214: 213, 2215: 187, 2216: 216, 2217: 209, 2218: 206, 2219: 206, 2220: 237, 2221: 228, 2222: 219, 2223: 220, 2224: 204, 2225: 193, 2226: 196, 2227: 191, 2228: 191, 2229: 200, 2230: 206, 2231: 198, 2232: 201, 2233: 198, 2234: 207, 2235: 234, 2236: 181, 2237: 212, 2238: 214, 2239: 187, 2240: 215, 2241: 221, 2242: 226, 2243: 236, 2244: 207, 2245: 211, 2246: 186, 2247: 202, 2248: 190, 2249: 191, 2250: 190, 2251: 219, 2252: 178, 2253: 200, 2254: 212, 2255: 193, 2256: 235, 2257: 225, 2258: 186, 2259: 217, 2260: 210, 2261: 225, 2262: 204, 2263: 207, 2264: 193, 2265: 176, 2266: 211, 2267: 203, 2268: 211, 2269: 224, 2270: 246, 2271: 205, 2272: 221, 2273: 213, 2274: 212, 2275: 207, 2276: 190, 2277: 223, 2278: 218, 2279: 204, 2280: 227, 2281: 251, 2282: 203, 2283: 213, 2284: 229, 2285: 202, 2286: 202, 2287: 209, 2288: 222, 2289: 220, 2290: 209, 2291: 195, 2292: 206, 2293: 232, 2294: 191, 2295: 190, 2296: 220, 2297: 193, 2298: 200, 2299: 191, 2300: 234, 2301: 199, 2302: 179, 2303: 189, 2304: 205, 2305: 179, 2306: 201, 2307: 173, 2308: 227, 2309: 188, 2310: 203, 2311: 168, 2312: 213, 2313: 191, 2314: 200, 2315: 180, 2316: 186, 2317: 195, 2318: 217, 2319: 233, 2320: 203, 2321: 233, 2322: 206, 2323: 197, 2324: 180, 2325: 212, 2326: 204, 2327: 185, 2328: 231, 2329: 197, 2330: 207, 2331: 206, 2332: 200, 2333: 198, 2334: 194, 2335: 182, 2336: 205, 2337: 218, 2338: 207, 2339: 190, 2340: 204, 2341: 202, 2342: 210, 2343: 221, 2344: 204, 2345: 209, 2346: 201, 2347: 216, 2348: 216, 2349: 218, 2350: 261, 2351: 226, 2352: 229, 2353: 230, 2354: 218, 2355: 201, 2356: 243, 2357: 194, 2358: 213, 2359: 219, 2360: 241, 2361: 222, 2362: 214, 2363: 172, 2364: 211, 2365: 220, 2366: 194, 2367: 199, 2368: 225, 2369: 195, 2370: 217, 2371: 186, 2372: 201, 2373: 205, 2374: 184, 2375: 180, 2376: 184, 2377: 213, 2378: 346, 2379: 249, 2380: 422, 2381: 368, 2382: 333, 2383: 302, 2384: 295, 2385: 287, 2386: 285, 2387: 294, 2388: 256, 2389: 244, 2390: 232, 2391: 245, 2392: 235, 2393: 241, 2394: 228, 2395: 235, 2396: 261, 2397: 276, 2398: 265, 2399: 285, 2400: 316, 2401: 267, 2402: 399, 2403: 377, 2404: 333, 2405: 304, 2406: 289, 2407: 281, 2408: 260, 2409: 233, 2410: 256, 2411: 255, 2412: 201, 2413: 233, 2414: 219, 2415: 234, 2416: 210, 2417: 241, 2418: 219, 2419: 203, 2420: 213, 2421: 213, 2422: 234, 2423: 205, 2424: 212, 2425: 210, 2426: 193, 2427: 204, 2428: 178, 2429: 201, 2430: 185, 2431: 205, 2432: 185, 2433: 189, 2434: 196, 2435: 216, 2436: 204, 2437: 179, 2438: 181, 2439: 206, 2440: 183, 2441: 169, 2442: 166, 2443: 198, 2444: 191, 2445: 184, 2446: 158, 2447: 178, 2448: 140, 2449: 211, 2450: 158, 2451: 188, 2452: 148, 2453: 173, 2454: 170, 2455: 165, 2456: 190, 2457: 151, 2458: 155, 2459: 165, 2460: 188, 2461: 198, 2462: 168, 2463: 176, 2464: 195, 2465: 171, 2466: 184, 2467: 172, 2468: 176, 2469: 191, 2470: 161, 2471: 162, 2472: 161, 2473: 170, 2474: 194, 2475: 166, 2476: 182, 2477: 180, 2478: 152, 2479: 186, 2480: 169, 2481: 160, 2482: 162, 2483: 162, 2484: 182, 2485: 196, 2486: 183, 2487: 169, 2488: 166, 2489: 175, 2490: 178, 2491: 190, 2492: 169, 2493: 164, 2494: 185, 2495: 195, 2496: 179, 2497: 178, 2498: 183, 2499: 154, 2500: 195, 2501: 192, 2502: 205, 2503: 201, 2504: 198, 2505: 180, 2506: 184, 2507: 187, 2508: 183, 2509: 205, 2510: 220, 2511: 372, 2512: 272, 2513: 236, 2514: 218, 2515: 208, 2516: 227, 2517: 236, 2518: 200, 2519: 210, 2520: 213, 2521: 189, 2522: 201, 2523: 209, 2524: 181, 2525: 189, 2526: 215, 2527: 192, 2528: 180, 2529: 183, 2530: 197, 2531: 176, 2532: 173, 2533: 193, 2534: 170, 2535: 196, 2536: 173, 2537: 178, 2538: 178, 2539: 161, 2540: 181, 2541: 179, 2542: 155, 2543: 138, 2544: 159, 2545: 180, 2546: 183, 2547: 186, 2548: 159, 2549: 171, 2550: 176, 2551: 171, 2552: 151, 2553: 194, 2554: 161, 2555: 191, 2556: 207, 2557: 214, 2558: 212, 2559: 167, 2560: 175, 2561: 179, 2562: 158, 2563: 156, 2564: 200, 2565: 166, 2566: 147, 2567: 192, 2568: 154, 2569: 165, 2570: 170, 2571: 178, 2572: 172, 2573: 191, 2574: 163, 2575: 159, 2576: 176, 2577: 159, 2578: 176, 2579: 160, 2580: 174, 2581: 157, 2582: 147, 2583: 159, 2584: 169, 2585: 157, 2586: 160, 2587: 160, 2588: 144, 2589: 170, 2590: 156, 2591: 177, 2592: 161, 2593: 157, 2594: 183, 2595: 140, 2596: 146, 2597: 158, 2598: 180, 2599: 155, 2600: 183, 2601: 168, 2602: 162, 2603: 135, 2604: 155, 2605: 165, 2606: 156, 2607: 196, 2608: 167, 2609: 195, 2610: 185, 2611: 164, 2612: 175, 2613: 165, 2614: 193, 2615: 179, 2616: 160, 2617: 163, 2618: 168, 2619: 197, 2620: 202, 2621: 194, 2622: 222, 2623: 199, 2624: 187, 2625: 180, 2626: 191, 2627: 174, 2628: 178, 2629: 160, 2630: 178, 2631: 173, 2632: 168, 2633: 163, 2634: 156, 2635: 162, 2636: 149, 2637: 163, 2638: 175, 2639: 143, 2640: 181, 2641: 132, 2642: 168, 2643: 159, 2644: 142, 2645: 171, 2646: 139, 2647: 162, 2648: 167, 2649: 157, 2650: 136, 2651: 153, 2652: 136, 2653: 126, 2654: 151, 2655: 137, 2656: 132, 2657: 142, 2658: 147, 2659: 138, 2660: 143, 2661: 164, 2662: 149, 2663: 165, 2664: 151, 2665: 141, 2666: 154, 2667: 147, 2668: 167, 2669: 119, 2670: 145, 2671: 167, 2672: 142, 2673: 156, 2674: 144, 2675: 165, 2676: 140, 2677: 144, 2678: 150, 2679: 162, 2680: 144, 2681: 167, 2682: 155, 2683: 157, 2684: 146, 2685: 140, 2686: 172, 2687: 146, 2688: 145, 2689: 157, 2690: 139, 2691: 158, 2692: 155, 2693: 136, 2694: 149, 2695: 151, 2696: 149, 2697: 150, 2698: 150, 2699: 137, 2700: 140, 2701: 172, 2702: 135, 2703: 147, 2704: 131, 2705: 129, 2706: 135, 2707: 152, 2708: 145, 2709: 134, 2710: 140, 2711: 131, 2712: 123, 2713: 133, 2714: 132, 2715: 119, 2716: 146, 2717: 140, 2718: 146, 2719: 123, 2720: 135, 2721: 146, 2722: 141, 2723: 135, 2724: 126, 2725: 129, 2726: 137, 2727: 130, 2728: 122, 2729: 145, 2730: 122, 2731: 141, 2732: 123, 2733: 159, 2734: 144, 2735: 142, 2736: 134, 2737: 124, 2738: 121, 2739: 143, 2740: 124, 2741: 149, 2742: 142, 2743: 141, 2744: 133, 2745: 129, 2746: 139, 2747: 126, 2748: 134, 2749: 140, 2750: 112, 2751: 153, 2752: 129, 2753: 138, 2754: 133, 2755: 115, 2756: 117, 2757: 123, 2758: 123, 2759: 139, 2760: 141, 2761: 136, 2762: 117, 2763: 146, 2764: 131, 2765: 140, 2766: 124, 2767: 128, 2768: 130, 2769: 142, 2770: 107, 2771: 153, 2772: 121, 2773: 141, 2774: 121, 2775: 118, 2776: 133, 2777: 129, 2778: 135, 2779: 141, 2780: 121, 2781: 119, 2782: 126, 2783: 126, 2784: 101, 2785: 121, 2786: 140, 2787: 117, 2788: 119, 2789: 132, 2790: 129, 2791: 139, 2792: 123, 2793: 128, 2794: 108, 2795: 128, 2796: 136, 2797: 123, 2798: 120, 2799: 113, 2800: 127, 2801: 128, 2802: 134, 2803: 115, 2804: 122, 2805: 141, 2806: 126, 2807: 121, 2808: 121, 2809: 88, 2810: 123, 2811: 155, 2812: 126, 2813: 132, 2814: 125, 2815: 122, 2816: 137, 2817: 112, 2818: 124, 2819: 107, 2820: 151, 2821: 133, 2822: 126, 2823: 105, 2824: 119, 2825: 139, 2826: 156, 2827: 125, 2828: 164, 2829: 147, 2830: 137, 2831: 132, 2832: 144, 2833: 94, 2834: 128, 2835: 140, 2836: 121, 2837: 123, 2838: 118, 2839: 100, 2840: 111, 2841: 108, 2842: 131, 2843: 109, 2844: 110, 2845: 128, 2846: 135, 2847: 110, 2848: 115, 2849: 119, 2850: 124, 2851: 97, 2852: 124, 2853: 127, 2854: 110, 2855: 117, 2856: 128, 2857: 96, 2858: 119, 2859: 116, 2860: 119, 2861: 134, 2862: 108, 2863: 117, 2864: 136, 2865: 131, 2866: 132, 2867: 129, 2868: 117, 2869: 122, 2870: 136, 2871: 115, 2872: 116, 2873: 132, 2874: 119, 2875: 120, 2876: 126, 2877: 122, 2878: 128, 2879: 118, 2880: 152, 2881: 118, 2882: 116, 2883: 128, 2884: 110, 2885: 131, 2886: 111, 2887: 131, 2888: 139, 2889: 101, 2890: 113, 2891: 137, 2892: 129, 2893: 128, 2894: 110, 2895: 119, 2896: 124, 2897: 122, 2898: 130, 2899: 132, 2900: 111, 2901: 104, 2902: 100, 2903: 114, 2904: 117, 2905: 115, 2906: 123, 2907: 107, 2908: 115, 2909: 116, 2910: 125, 2911: 131, 2912: 120, 2913: 117, 2914: 137, 2915: 118, 2916: 109, 2917: 128, 2918: 111, 2919: 108, 2920: 132, 2921: 100, 2922: 128, 2923: 108, 2924: 100, 2925: 117, 2926: 118, 2927: 106, 2928: 112, 2929: 139, 2930: 109, 2931: 100, 2932: 89, 2933: 100, 2934: 114, 2935: 106, 2936: 114, 2937: 129, 2938: 103, 2939: 125, 2940: 111, 2941: 107, 2942: 131, 2943: 109, 2944: 116, 2945: 99, 2946: 114, 2947: 114, 2948: 111, 2949: 107, 2950: 91, 2951: 116, 2952: 122, 2953: 122, 2954: 105, 2955: 100, 2956: 114, 2957: 131, 2958: 125, 2959: 115, 2960: 123, 2961: 104, 2962: 141, 2963: 128, 2964: 117, 2965: 123, 2966: 116, 2967: 127, 2968: 113, 2969: 110, 2970: 114, 2971: 116, 2972: 109, 2973: 120, 2974: 106, 2975: 110, 2976: 114, 2977: 113, 2978: 127, 2979: 114, 2980: 106, 2981: 105, 2982: 100, 2983: 115, 2984: 108, 2985: 103, 2986: 112, 2987: 126, 2988: 106, 2989: 118, 2990: 104, 2991: 104, 2992: 106, 2993: 111, 2994: 95, 2995: 116, 2996: 120, 2997: 107, 2998: 113, 2999: 103, 3000: 94, 3001: 111, 3002: 101, 3003: 108, 3004: 93, 3005: 103, 3006: 115, 3007: 109, 3008: 102, 3009: 94, 3010: 113, 3011: 124, 3012: 108, 3013: 100, 3014: 90, 3015: 94, 3016: 107, 3017: 94, 3018: 85, 3019: 127, 3020: 93, 3021: 107, 3022: 92, 3023: 98, 3024: 125, 3025: 103, 3026: 91, 3027: 102, 3028: 98, 3029: 96, 3030: 105, 3031: 101, 3032: 96, 3033: 94, 3034: 110, 3035: 114, 3036: 102, 3037: 111, 3038: 99, 3039: 114, 3040: 103, 3041: 119, 3042: 102, 3043: 95, 3044: 116, 3045: 97, 3046: 107, 3047: 93, 3048: 97, 3049: 88, 3050: 86, 3051: 105, 3052: 90, 3053: 88, 3054: 94, 3055: 90, 3056: 89, 3057: 80, 3058: 89, 3059: 96, 3060: 88, 3061: 92, 3062: 98, 3063: 76, 3064: 88, 3065: 82, 3066: 82, 3067: 74, 3068: 86, 3069: 85, 3070: 89, 3071: 77, 3072: 80, 3073: 71, 3074: 97, 3075: 74, 3076: 81, 3077: 91, 3078: 78, 3079: 83, 3080: 100, 3081: 87, 3082: 79, 3083: 75, 3084: 87, 3085: 85, 3086: 80, 3087: 88, 3088: 79, 3089: 78, 3090: 88, 3091: 71, 3092: 94, 3093: 94, 3094: 81, 3095: 84, 3096: 75, 3097: 85, 3098: 114, 3099: 79, 3100: 83, 3101: 91, 3102: 84, 3103: 68, 3104: 100, 3105: 67, 3106: 72, 3107: 89, 3108: 83, 3109: 88, 3110: 85, 3111: 73, 3112: 98, 3113: 104, 3114: 86, 3115: 67, 3116: 82, 3117: 88, 3118: 86, 3119: 77, 3120: 67, 3121: 83, 3122: 75, 3123: 69, 3124: 70, 3125: 78, 3126: 70, 3127: 76, 3128: 74, 3129: 89, 3130: 51, 3131: 82, 3132: 79, 3133: 70, 3134: 69, 3135: 76, 3136: 77, 3137: 82, 3138: 79, 3139: 79, 3140: 65, 3141: 70, 3142: 83, 3143: 64, 3144: 81, 3145: 78, 3146: 75, 3147: 60, 3148: 77, 3149: 71, 3150: 81, 3151: 71, 3152: 74, 3153: 90, 3154: 65, 3155: 72, 3156: 68, 3157: 80, 3158: 58, 3159: 80, 3160: 67, 3161: 61, 3162: 75, 3163: 69, 3164: 73, 3165: 62, 3166: 73, 3167: 80, 3168: 95, 3169: 75, 3170: 89, 3171: 75, 3172: 74, 3173: 88, 3174: 80, 3175: 68, 3176: 69, 3177: 71, 3178: 76, 3179: 61, 3180: 74, 3181: 81, 3182: 75, 3183: 66, 3184: 59, 3185: 73, 3186: 83, 3187: 75, 3188: 84, 3189: 70, 3190: 68, 3191: 73, 3192: 80, 3193: 79, 3194: 73, 3195: 62, 3196: 80, 3197: 69, 3198: 79, 3199: 83, 3200: 63, 3201: 69, 3202: 68, 3203: 80, 3204: 82, 3205: 69, 3206: 67, 3207: 67, 3208: 74, 3209: 65, 3210: 62, 3211: 78, 3212: 83, 3213: 53, 3214: 72, 3215: 89, 3216: 68, 3217: 85, 3218: 65, 3219: 63, 3220: 62, 3221: 75, 3222: 62, 3223: 75, 3224: 62, 3225: 70, 3226: 55, 3227: 72, 3228: 63, 3229: 76, 3230: 52, 3231: 78, 3232: 59, 3233: 64, 3234: 75, 3235: 75, 3236: 68, 3237: 70, 3238: 65, 3239: 81, 3240: 77, 3241: 62, 3242: 69, 3243: 57, 3244: 72, 3245: 74, 3246: 70, 3247: 50, 3248: 52, 3249: 59, 3250: 59, 3251: 65, 3252: 78, 3253: 68, 3254: 63, 3255: 59, 3256: 63, 3257: 79, 3258: 67, 3259: 70, 3260: 69, 3261: 69, 3262: 68, 3263: 71, 3264: 63, 3265: 57, 3266: 63, 3267: 73, 3268: 74, 3269: 62, 3270: 57, 3271: 66, 3272: 78, 3273: 57, 3274: 66, 3275: 72, 3276: 70, 3277: 73, 3278: 55, 3279: 67, 3280: 83, 3281: 55, 3282: 56, 3283: 69, 3284: 56, 3285: 62, 3286: 57, 3287: 63, 3288: 80, 3289: 67, 3290: 71, 3291: 71, 3292: 65, 3293: 67, 3294: 64, 3295: 60, 3296: 48, 3297: 64, 3298: 62, 3299: 53, 3300: 68, 3301: 53, 3302: 60, 3303: 62, 3304: 53, 3305: 55, 3306: 62, 3307: 52, 3308: 53, 3309: 65, 3310: 52, 3311: 55, 3312: 50, 3313: 60, 3314: 60, 3315: 53, 3316: 54, 3317: 71, 3318: 56, 3319: 68, 3320: 60, 3321: 40, 3322: 61, 3323: 60, 3324: 48, 3325: 59, 3326: 56, 3327: 58, 3328: 58, 3329: 64, 3330: 53, 3331: 49, 3332: 57, 3333: 50, 3334: 58, 3335: 61, 3336: 51, 3337: 56, 3338: 66, 3339: 56, 3340: 69, 3341: 42, 3342: 66, 3343: 64, 3344: 61, 3345: 56, 3346: 70, 3347: 57, 3348: 47, 3349: 50, 3350: 55, 3351: 53, 3352: 47, 3353: 58, 3354: 62, 3355: 53, 3356: 50, 3357: 62, 3358: 41, 3359: 49, 3360: 52, 3361: 68, 3362: 61, 3363: 66, 3364: 50, 3365: 43, 3366: 62, 3367: 51, 3368: 58, 3369: 49, 3370: 56, 3371: 38, 3372: 60, 3373: 55, 3374: 69, 3375: 51, 3376: 66, 3377: 52, 3378: 52, 3379: 55, 3380: 53, 3381: 47, 3382: 65, 3383: 45, 3384: 53, 3385: 47, 3386: 58, 3387: 57, 3388: 57, 3389: 46, 3390: 62, 3391: 43, 3392: 41, 3393: 42, 3394: 51, 3395: 47, 3396: 52, 3397: 49, 3398: 60, 3399: 52, 3400: 37, 3401: 50, 3402: 45, 3403: 47, 3404: 46, 3405: 49, 3406: 45, 3407: 46, 3408: 32, 3409: 52, 3410: 38, 3411: 40, 3412: 48, 3413: 43, 3414: 36, 3415: 36, 3416: 24, 3417: 35, 3418: 37, 3419: 37, 3420: 40, 3421: 30, 3422: 29, 3423: 36, 3424: 37, 3425: 35, 3426: 31, 3427: 33, 3428: 41, 3429: 45, 3430: 30, 3431: 36, 3432: 47, 3433: 37, 3434: 34, 3435: 39, 3436: 47, 3437: 33, 3438: 40, 3439: 38, 3440: 47, 3441: 40, 3442: 44, 3443: 37, 3444: 42, 3445: 37, 3446: 38, 3447: 48, 3448: 37, 3449: 37, 3450: 40, 3451: 31, 3452: 37, 3453: 34, 3454: 49, 3455: 39, 3456: 50, 3457: 27, 3458: 54, 3459: 34, 3460: 37, 3461: 48, 3462: 52, 3463: 38, 3464: 37, 3465: 55, 3466: 48, 3467: 39, 3468: 31, 3469: 37, 3470: 38, 3471: 49, 3472: 44, 3473: 46, 3474: 42, 3475: 37, 3476: 28, 3477: 35, 3478: 37, 3479: 41, 3480: 42, 3481: 32, 3482: 45, 3483: 44, 3484: 45, 3485: 43, 3486: 50, 3487: 40, 3488: 33, 3489: 40, 3490: 26, 3491: 48, 3492: 46, 3493: 43, 3494: 30, 3495: 35, 3496: 45, 3497: 41, 3498: 40, 3499: 46, 3500: 49, 3501: 37, 3502: 38, 3503: 39, 3504: 39, 3505: 44, 3506: 31, 3507: 39, 3508: 35, 3509: 36, 3510: 37, 3511: 37, 3512: 36, 3513: 40, 3514: 25, 3515: 31, 3516: 51, 3517: 35, 3518: 35, 3519: 38, 3520: 38, 3521: 29, 3522: 36, 3523: 27, 3524: 37, 3525: 32, 3526: 43, 3527: 43, 3528: 39, 3529: 34, 3530: 33, 3531: 32, 3532: 31, 3533: 28, 3534: 39, 3535: 26, 3536: 25, 3537: 21, 3538: 34, 3539: 40, 3540: 35, 3541: 25, 3542: 29, 3543: 33, 3544: 28, 3545: 24, 3546: 40, 3547: 36, 3548: 39, 3549: 34, 3550: 45, 3551: 33, 3552: 37, 3553: 34, 3554: 44, 3555: 30, 3556: 33, 3557: 31, 3558: 32, 3559: 39, 3560: 26, 3561: 31, 3562: 23, 3563: 29, 3564: 33, 3565: 33, 3566: 25, 3567: 31, 3568: 25, 3569: 29, 3570: 23, 3571: 37, 3572: 33, 3573: 30, 3574: 34, 3575: 25, 3576: 43, 3577: 33, 3578: 21, 3579: 33, 3580: 32, 3581: 21, 3582: 21, 3583: 18, 3584: 31, 3585: 23, 3586: 33, 3587: 27, 3588: 43, 3589: 33, 3590: 35, 3591: 29, 3592: 21, 3593: 35, 3594: 25, 3595: 25, 3596: 42, 3597: 28, 3598: 31, 3599: 23, 3600: 23, 3601: 28, 3602: 23, 3603: 24, 3604: 35, 3605: 39, 3606: 33, 3607: 26, 3608: 34, 3609: 27, 3610: 27, 3611: 34, 3612: 24, 3613: 30, 3614: 34, 3615: 21, 3616: 29, 3617: 25, 3618: 31, 3619: 23, 3620: 31, 3621: 26, 3622: 30, 3623: 21, 3624: 23, 3625: 28, 3626: 27, 3627: 27, 3628: 27, 3629: 29, 3630: 42, 3631: 31, 3632: 23, 3633: 32, 3634: 24, 3635: 19, 3636: 26, 3637: 29, 3638: 31, 3639: 18, 3640: 24, 3641: 22, 3642: 24, 3643: 15, 3644: 25, 3645: 25, 3646: 13, 3647: 32, 3648: 20, 3649: 28, 3650: 17, 3651: 19, 3652: 30, 3653: 28, 3654: 24, 3655: 20, 3656: 19, 3657: 16, 3658: 28, 3659: 25, 3660: 10, 3661: 12, 3662: 19, 3663: 23, 3664: 12, 3665: 21, 3666: 14, 3667: 14, 3668: 13, 3669: 23, 3670: 24, 3671: 24, 3672: 13, 3673: 24, 3674: 18, 3675: 15, 3676: 14, 3677: 16, 3678: 16, 3679: 13, 3680: 14, 3681: 10, 3682: 20, 3683: 8, 3684: 13, 3685: 18, 3686: 7, 3687: 14, 3688: 12, 3689: 17, 3690: 17, 3691: 13, 3692: 16, 3693: 10, 3694: 16, 3695: 16, 3696: 11, 3697: 20, 3698: 15, 3699: 19, 3700: 12, 3701: 10, 3702: 12, 3703: 11, 3704: 11, 3705: 15, 3706: 12, 3707: 10, 3708: 9, 3709: 11, 3710: 11, 3711: 14, 3712: 10, 3713: 15, 3714: 10, 3715: 13, 3716: 16, 3717: 16, 3718: 6, 3719: 11, 3720: 7, 3721: 14, 3722: 12, 3723: 14, 3724: 4, 3725: 14, 3726: 12, 3727: 13, 3728: 7, 3729: 15, 3730: 13, 3731: 17, 3732: 13, 3733: 14, 3734: 9, 3735: 11, 3736: 9, 3737: 10, 3738: 1, 3739: 9, 3740: 9, 3741: 9, 3742: 4, 3743: 12, 3744: 7, 3745: 10, 3746: 6, 3747: 12, 3748: 11, 3749: 12, 3750: 11, 3751: 6, 3752: 9, 3753: 7, 3754: 6, 3755: 9, 3756: 9, 3757: 13, 3758: 10, 3759: 11, 3760: 11, 3761: 12, 3762: 9, 3763: 9, 3764: 8, 3765: 9, 3766: 6, 3767: 10, 3768: 12, 3769: 4, 3770: 7, 3771: 12, 3772: 2, 3773: 2, 3774: 11, 3775: 5, 3776: 8, 3777: 4, 3778: 5, 3779: 2, 3780: 4, 3781: 12, 3782: 5, 3783: 7, 3784: 2, 3785: 4, 3786: 8, 3787: 8, 3788: 3, 3789: 5, 3790: 6, 3791: 9, 3792: 4, 3793: 3, 3794: 2, 3795: 4, 3796: 2, 3798: 4, 3799: 7, 3800: 6, 3801: 4, 3802: 2, 3803: 4, 3804: 1, 3805: 3, 3806: 5, 3807: 4, 3808: 3, 3809: 3, 3810: 2, 3811: 10, 3812: 2, 3813: 2, 3814: 1, 3815: 4, 3816: 4, 3817: 2, 3818: 1, 3819: 1, 3820: 2, 3821: 4, 3822: 1, 3823: 2, 3824: 3, 3825: 2, 3826: 1, 3827: 2, 3828: 2, 3829: 3, 3830: 2, 3831: 1, 3832: 4, 3833: 1, 3834: 2, 3835: 2, 3836: 3, 3837: 7, 3838: 2, 3839: 2, 3840: 3, 3841: 2, 3842: 2, 3843: 2, 3844: 1, 3845: 1, 3848: 2, 3849: 1, 3850: 2, 3851: 3, 3853: 2, 3854: 1, 3855: 3, 3857: 1, 3860: 1, 3863: 2, 3864: 2, 3865: 1, 3866: 1, 3867: 1, 3869: 1, 3870: 2, 3871: 1, 3874: 1, 3875: 1, 3879: 3, 3880: 1, 3882: 1, 3885: 1, 3887: 1, 3888: 1, 3891: 1, 3893: 3, 3894: 1, 3895: 1, 3899: 1, 3905: 1, 3927: 1, 3954: 1, 3955: 1, 3956: 1, 3981: 1, 4025: 1, -11: 45, -121: 1, -114: 1, -113: 3, -112: 1, -111: 2, -110: 5, -108: 2, -107: 2, -106: 6, -105: 1, -104: 1, -103: 2, -102: 3, -101: 2, -100: 2, -99: 3, -98: 3, -97: 6, -96: 1, -95: 2, -94: 6, -93: 1, -91: 4, -90: 5, -89: 6, -88: 6, -87: 3, -86: 3, -85: 3, -84: 2, -83: 3, -82: 4, -81: 6, -79: 4, -78: 3, -77: 7, -76: 1, -75: 4, -74: 6, -73: 8, -72: 1, -71: 1, -70: 4, -69: 6, -68: 6, -67: 5, -66: 7, -65: 5, -64: 5, -63: 9, -62: 10, -61: 7, -60: 8, -59: 8, -58: 10, -57: 9, -56: 8, -55: 7, -54: 8, -53: 12, -52: 10, -51: 9, -50: 10, -49: 15, -48: 14, -47: 15, -46: 11, -45: 18, -44: 13, -43: 11, -42: 15, -41: 22, -40: 18, -39: 22, -38: 15, -37: 14, -36: 22, -35: 19, -34: 21, -33: 12, -32: 13, -31: 14, -30: 18, -29: 12, -28: 23, -27: 18, -26: 20, -25: 19, -24: 29, -23: 18, -22: 24, -21: 18, -20: 19, -19: 23, -18: 27, -17: 26, -16: 35, -15: 31, -14: 45, -13: 36, -12: 45, -1: 1581, -10: 60, -9: 54, -8: 58, -7: 101, -6: 119, -5: 131, -4: 164, -3: 301, -2: 466}
    age_list = []
    for k, v in age_dist_dict.items():
        if k >= 0:
            age_list.extend([k]*v)
    # age = np.array(ages_list).reshape(-1, 1)
    #
    # kde = KernelDensity(bandwidth=2).fit(age)
    # x = np.linspace(age.min(), age.max(), 100).reshape(-1, 1)
    # density = np.exp(kde.score_samples(x))

    fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2)

    # sns.set_style('whitegrid')
    # sns.distplot(np.array(ages_list), hist=False)

    # ax1: age - occurrence
    age = np.array([i for i in age_dist_dict.keys() if i >=0])
    occurrence = np.array([age_dist_dict[i] for i in age])
    ax1.plot(age, occurrence)
    ax1.set_yscale('log')
    ax1.set_xlabel('Age')
    ax1.set_ylabel('Frequency')
    ax1.set_title('Tweeted Ages in May 2016 / log-linear scale')

    # ax2: age - density
    count, bins, ignored = ax2.hist(age_list, 1000, normed=1, facecolor="b", histtype='step')
    ax2.set_yscale('log')
    ax2.set_xlabel('Age')
    ax2.set_ylabel('Density')
    ax2.set_title('Tweeted Ages in May 2016 / log-linear scale')

    # ax3: age - occurrence
    age = np.array([i for i in age_dist_dict.keys() if i >= 0])
    occurrence = np.array([age_dist_dict[i] for i in age])
    ax3.plot(age, occurrence)
    ax3.set_xscale('symlog')
    ax3.set_yscale('log')
    ax3.set_xlabel('Age')
    ax3.set_ylabel('Frequency')
    ax3.set_title('Tweeted Ages in May 2016 / log-log scale')

    # ax4: age - density
    count, bins, ignored = ax4.hist(age_list, 1000, normed=1, facecolor="b", histtype='step')
    ax4.set_xscale('symlog')
    ax4.set_yscale('log')
    ax4.set_xlabel('Age')
    ax4.set_ylabel('Density')
    ax4.set_title('Tweeted Ages in May 2016 / log-log scale')

    # def curve_fit(x, y, ax1, c='r'):
    #     n = len(y)
    #     train_x = np.array(x)
    #     train_y = np.array(y)
    #
    #     z = np.polyfit(train_x, train_y, 7)
    #     f = np.poly1d(z)
    #
    #     x_new = np.linspace(train_x[0], train_x[-1], n)
    #     y_new = f(x_new)
    #     ax1.plot(x, y_new, linestyle='-', marker='', color=c)
    #
    # curve_fit(age, np.log10(occurrence), ax)
    # zipf distribution
    # counts, bin_edges = np.histogram(age_list, 10)
    # bin_centres = (bin_edges[:-1] + bin_edges[1:]) / 2.
    # ax.scatter(bin_centres, counts)

    # import scipy.special as sps
    # count, bins, ignored = ax.hist(age_list, 1000, normed=1, facecolor="b", histtype='step')
    # x = np.arange(1, max(age_list))
    # y = x ** (-0.5) / sps.zetac(4)
    # plt.plot(x, y / max(y), linewidth=2, color='r')

    # ax.set_xscale('symlog')


    plt.show()
